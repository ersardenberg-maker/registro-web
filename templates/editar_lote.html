{% extends 'base.html' %}

{% block title %}Editar Lote de Vegetal{% endblock %}

{% block content %}
    <h2>Editar Lote de Vegetal</h2>

    <!-- O 'action' agora usa lote.id -->
    <form action="{{ url_for('editar_lote', id=lote.id) }}" method="post" class="form-container">
        <div class="form-group">
            <label for="id_lote">ID do Lote: *</label>
            <!-- Acesso aos dados como atributo: lote.id_lote -->
            <input type="text" id="id_lote" name="id_lote" required value="{{ lote.id_lote }}">
        </div>
        <div class="form-group">
            <label for="data_preparo">Data de Preparo: *</label>
            <!-- O app.py prepara este campo no formato YYYY-MM-DD -->
            <input type="date" id="data_preparo" name="data_preparo" required value="{{ lote.data_preparo_form }}">
        </div>
        <div class="form-group">
            <label for="responsavel">Responsável pelo Preparo: *</label>
            <input type="text" id="responsavel" name="responsavel" required value="{{ lote.responsavel }}">
        </div>
        <div class="form-group">
            <label for="litros_iniciais">Litros Iniciais: *</label>
            <input type="number" id="litros_iniciais" name="litros_iniciais" required step="0.1" value="{{ lote.litros_iniciais }}">
        </div>
        <div class="form-group">
            <label for="litros_atuais">Litros Atuais (para ajuste manual): *</label>
            <input type="number" id="litros_atuais" name="litros_atuais" required step="0.1" value="{{ lote.litros_atuais }}">
        </div>
        <div class="form-group">
            <label for="observacoes">Observações:</label>
            <input type="text" id="observacoes" name="observacoes" value="{{ lote.observacoes }}">
        </div>
        <div class="form-group">
            <button type="submit">Atualizar Lote</button>
        </div>
    </form>
{% endblock %}
